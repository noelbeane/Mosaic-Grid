/*! mosaicgrid 02-10-2013 */
function clicked(a){console.log($(a).attr("id"))}function init(){$(window).resize(function(){checkOrientation(),footer()}),$("input:text, textarea").on("keydown",toggleLabel),$("input:text, textarea").on("paste",toggleLabel),$("select").on("change",toggleLabel),$("input:text, textarea").on("focusin",function(){$(this).prev("span").css("color","#ccc")}),$("input:text, textarea").on("focusout",function(){$(this).prev("span").css("color","#999")}),$(function(){$("input:text, textarea").each(function(){toggleLabel.call(this)})}),loadJSON(),footer()}function subnavSlide(){var a=document.getElementById("subnav"),b=document.getElementById("mainContent"),c=document.getElementById("subnavList");document.getElementById("subnavBtn"),0==subnavState?(subnavState=1,a.style.height="10em",a.style.width="25%",b.style.width="66.66666%"):(subnavState=0,a.style.height="3em",a.style.width="8.33333%",b.style.width="83.33333%"),$(c).toggle("slow")}function topnavSlide(a){var b=document.getElementById("mainnav"),c=document.getElementById("tools");document.getElementById("sitemenuBtn");var d=document.getElementById("drawer");0==topnavState?(topnavState=1,d.style.height="9em","menu"==a?(b.style.display="block",c.style.display="none"):(c.style.display="block",b.style.display="none")):(topnavState=0,d.style.height="0",c.style.display="none",b.style.display="none")}function toggleLabel(){var a=$(this);setTimeout(function(){var b=a.attr("title"),b=a.attr("title");if(a.val()&&a.val()!=b)a.prev("span").css("visibility","hidden");else if(a.prev("span").css("visibility",""),b){var c=$("<label></label>").text(b).css("visibility","hidden").appendTo("body");a.prev("span").css("margin-left",c.width()+3+"px"),c.remove()}},0)}function checkOrientation(){var a=$(window).width(),b=$(window).height();orientation=b>a?"portrait":"landscape",fixIO6PlaceholderBug()}function fixIO6PlaceholderBug(){var a,b="";$(document).find("input[placeholder]").each(function(){a=$(this),b=a.attr("placeholder"),a.removeAttr("placeholder").attr("placeholder",b)})}function footer(){var a=$("#footer").offset();$("#footer").height();var b=window.innerHeight,c=b-a.top;a.top<b?$("footer").css({height:c}):$("footer").css({height:"auto"})}function loadJSON(){$(document).ready(function(){var a="../mosaicgrid.json",b={format:"json"};$.getJSON(a,b,function(a){a.mosaicgrid&&$.each(a.mosaicgrid,function(b){var c=a.mosaicgrid[b];tilearr.push(c)}),createTiles()})})}function createTiles(){var a=new Array;$.each(tilearr,function(b,c){$.each(c,function(b,c){a.push(c)})});for(var b=0;b<=a.length-1;b++){var c=a[b].title,d=a[b].field_image;a[b].path,a[b].created;var e=a[b].field_imgheight,f=a[b].field_imgwidth,g=a[b].field_desc,h=b,i="video";drawTile(c,g,e,f,h,d,i)}}function drawTile(a,b,c,d,e,f,g){var h=document.createElement("div");document.createElement("div");var i=document.createElement("div"),j=document.createElement("div"),k=document.createElement("div"),l=f,m="";switch(g){case"article":m="icon-file";break;case"photo":m="icon-camera";break;case"video":m="icon-camera-2";break;case"image":m="icon-image"}$("#mosaic").append(h),h.id=e+"_container",h.className="msnry_item",h.style.height=c+"px",$(h).append(k),k.id=e+"_desc",k.className="tile-desc",k.style.height=c+"px",k.style.width="100%",$(k).append("<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore</p>"),$(h).append(i),i.id=e+"_cover",i.className="tile-cover tranz_norm",i.style.height=c+"px",i.style.width="100%",i.style.backgroundImage='url(" '+l+' ")',$(h).append(j),j.id=e+"_label",j.className="tile-label",$(j).append("<div class='tile_icon_wrapper'><div class='"+m+" tile_icon' ></div></div><div class='tile_icon_point'></div><div class='tile_label_txt'>"+a+"</div>"),$(i).data("tileState",0),$(i).on("mouseover",function(){var a=e+"_cover";tileOpen(a)}),$(i).on("mouseout",function(){var a=e+"_cover",b=e+"_desc";tileClose(a,b)});var n=document.getElementById(e+"_container").offsetWidth,o=n/d,p=c*o;return $(h).css("height",p),$(i).css("height",p),$(k).css("height",p),!0}function tileOpen(a){$(document.getElementById(a)).parent().height(),$(document.getElementById(a)).data("tileState",1),$(document.getElementById(a)).css("opacity","0")}function tileClose(a,b){$(document.getElementById(b)).parent().height(),$(document.getElementById(a)).data("tileState",0),$(document.getElementById(a)).css("opacity","1")}var subnavState=0,topnavState=0,orientation="portrait",columns=3,tileState=0,paramsCount=10,iconFolder="images/glyphs/",templateID=0,maxWidth=.8333333,tilearr=new Array;$(window).resize(function(){$(".msnry_item").each(function(){var a=$(this).offsetWidth,b=a/$(this).data("w"),c=$(this).data("h")*b;$(this).children(".tile-cover").height(c)})});